<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì£¼ê°„ ì—…ë¬´ë³´ê³  (Firestore í˜‘ì—…)</title>
    <!-- Tailwind CSS CDN ë¡œë“œ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter í°íŠ¸ ì‚¬ìš© ì„¤ì • -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f7f9fb; }
        /* ë‚´ìš© í¸ì§‘ í•„ë“œì˜ ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        .editable-content {
            min-height: 24px;
            padding: 4px 8px;
            border-radius: 4px;
            transition: all 0.15s ease-in-out;
            cursor: text;
        }
        .editable-content:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba(66, 153, 225, 0.5); /* blue-500 shadow */
            background-color: #fff;
        }
        .editable-container {
            border: 1px solid #e5e7eb; /* gray-200 */
            border-radius: 8px;
            padding: 1rem;
            min-height: 200px;
        }
        /* ì¶”ê°€ì ì¸ ì¸ì‡„ ë° UI ìŠ¤íƒ€ì¼ */
        @media print {
            body { background-color: #fff; }
            .header-info, .editable-container, .editable-content { border: 1px solid #000 !important; }
            .print-hidden { display: none !important; }
            /* í¸ì§‘ ê°€ëŠ¥í•œ í•­ëª©ì— íšŒìƒ‰ ë°°ê²½ì´ ë“¤ì–´ê°€ì§€ ì•Šë„ë¡ */
            .editable-content:focus, .editable-content { background-color: transparent !important; box-shadow: none !important; }
        }
    </style>
</head>
<body class="p-4 md:p-8">
    
    <!-- 1. í—¤ë” ë° ì»¨íŠ¸ë¡¤ ì˜ì—­ -->
    <header class="mb-6 print-hidden flex justify-between items-center bg-white p-4 rounded-xl shadow-lg">
        <div class="flex items-center space-x-4">
            <h1 class="text-2xl font-bold text-gray-800">ì£¼ê°„ ì—…ë¬´ ë³´ê³ ì„œ</h1>
            <p id="report-date-display" class="text-sm font-medium text-gray-500"></p>
        </div>
        <div class="flex items-center space-x-3">
            <span id="save-status" class="text-sm font-medium transition-opacity duration-300 text-gray-500">ëŒ€ê¸° ì¤‘...</span>
            <button id="save-button" class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-150">
                ìˆ˜ë™ ì €ì¥
            </button>
            <button id="print-button" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg shadow-md transition duration-150">
                ì¸ì‡„
            </button>
        </div>
    </header>

    <!-- 2. ì‚¬ìš©ì ì •ë³´ ë° ì•ˆë‚´ -->
    <div class="print-hidden mb-6 p-4 border border-blue-400 bg-blue-50 rounded-lg text-blue-800 text-sm shadow-md">
        <p class="font-semibold mb-1">ğŸ”¥ í˜‘ì—… ê¸°ëŠ¥ í™œì„±í™”ë¨</p>
        <p>
            í˜„ì¬ ì‚¬ìš©ì ID: <span id="user-id" class="font-mono text-xs bg-blue-200 px-1 rounded">ì¸ì¦ ì¤‘...</span>
            <span class="ml-4"> (ëª¨ë“  ë³€ê²½ ì‚¬í•­ì€ ìë™ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤.)</span>
        </p>
    </div>

    <!-- 3. ë³´ê³ ì„œ ë³¸ë¬¸ -->
    <div class="report-container bg-white p-6 md:p-10 rounded-xl shadow-2xl">
        <h2 class="text-center text-3xl font-extrabold text-gray-900 mb-8 pb-2 border-b-4 border-gray-900">
            ì¬ë¬´ë¶€ë¬¸ ì£¼ê°„ ì—…ë¬´ ë³´ê³ 
        </h2>
        
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- ì™¼ìª½ ì„¹ì…˜: ì§€ë‚œ ì£¼ (ì „ì£¼) -->
            <section class="border-r lg:pr-8">
                <h3 class="text-xl font-bold text-gray-700 mb-4 pb-1 border-b-2 border-gray-300">
                    ì „ì£¼ ì‚¬í•­ (<span id="prev-period-display" class="font-normal">09/22 ~ 09/26</span>)
                </h3>

                <!-- ìê¸ˆ í˜„í™© í…Œì´ë¸” (ë”ë¯¸ ë°ì´í„°) -->
                <div class="mb-6">
                    <p class="font-semibold text-lg mb-2">ìê¸ˆ í˜„í™© (09/26 ê¸°ì¤€)</p>
                    <table class="w-full text-sm border-collapse">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="border p-2 font-medium"></th>
                                <th class="border p-2 font-medium">ë‹¹ì¢Œ</th>
                                <th class="border p-2 font-medium">ë³´í†µ</th>
                                <th class="border p-2 font-medium">í•©ê³„</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="border p-2 font-semibold">ìê¸ˆ í˜„í™©</td>
                                <td class="border p-2 editable-content" contenteditable="true" data-field="finance.funds.demand">0ì–µ</td>
                                <td class="border p-2 editable-content" contenteditable="true" data-field="finance.funds.checking">ë°±ë§Œì›</td>
                                <td class="border p-2 editable-content" contenteditable="true" data-field="finance.funds.total">ë°±ë§Œì›</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- ì—…ë¬´/íšŒê³„ í•­ëª© -->
                <div class="mb-6">
                    <p class="font-semibold text-lg mb-2 border-b border-gray-200">ì£¼ìš” ì—…ë¬´</p>
                    <div id="weekly-tasks-prev" class="space-y-2 editable-container">
                        <!-- í•­ëª©ì´ ì—¬ê¸°ì— ë¡œë“œë©ë‹ˆë‹¤ -->
                    </div>
                    <button class="add-item-button mt-2 text-sm text-indigo-600 hover:text-indigo-800 transition duration-150 print-hidden" data-category="weeklyTasksPrev" data-subfield="items">
                        + í•­ëª© ì¶”ê°€
                    </button>
                </div>
            </section>

            <!-- ì˜¤ë¥¸ìª½ ì„¹ì…˜: ê¸ˆì£¼ ê³„íš (ê¸ˆì£¼) -->
            <section>
                <h3 class="text-xl font-bold text-gray-700 mb-4 pb-1 border-b-2 border-gray-300">
                    ê¸ˆì£¼/ë‹¤ìŒ ì£¼ ê³„íš (<span id="curr-period-display" class="font-normal">09/29 ~ 10/02</span>)
                </h3>

                <!-- ê¸ˆì£¼ ê³„íš í•­ëª© -->
                <div class="mb-6">
                    <p class="font-semibold text-lg mb-2 border-b border-gray-200">ì£¼ê°„ ê³„íš</p>
                    <div id="weekly-plan-curr" class="space-y-2 editable-container">
                        <!-- í•­ëª©ì´ ì—¬ê¸°ì— ë¡œë“œë©ë‹ˆë‹¤ -->
                    </div>
                    <button class="add-item-button mt-2 text-sm text-indigo-600 hover:text-indigo-800 transition duration-150 print-hidden" data-category="weeklyPlanCurr" data-subfield="items">
                        + í•­ëª© ì¶”ê°€
                    </button>
                </div>

                <!-- ë¹„ê³ /íŠ¹ì´ì‚¬í•­ -->
                <div class="mb-6">
                    <p class="font-semibold text-lg mb-2 border-b border-gray-200">ë¹„ê³  ë° íŠ¹ì´ì‚¬í•­</p>
                    <div class="space-y-2 editable-container">
                        <div class="editable-content w-full" contenteditable="true" data-field="notes.main">
                            ê¸ˆì£¼ íŠ¹ì´ì‚¬í•­ì´ë‚˜ í˜‘ì¡° ìš”ì²­ ì‚¬í•­ì„ ê¸°ì¬í•˜ì„¸ìš”. (í´ë¦­í•˜ì—¬ í¸ì§‘)
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Firebase SDK ë¡œë“œ -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, onSnapshot, setDoc, updateDoc, collection, getDocs, query, deleteField } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore-lite.js";
        
        // Firestore ë””ë²„ê¹… í™œì„±í™”
        setLogLevel('debug'); 

        // --- 1. ì „ì—­ ë³€ìˆ˜ ì„¤ì • ë° Firebase ì´ˆê¸°í™” ---
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : null;
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        let db, auth, userId = null;
        let isAuthReady = false;
        let reportData = {};
        const REPORT_COLLECTION = 'weeklyReports';
        const REPORT_DOC_ID = 'currentReport';

        const saveStatus = document.getElementById('save-status');
        const userIdDisplay = document.getElementById('user-id');
        const saveButton = document.getElementById('save-button');
        const printButton = document.getElementById('print-button');
        const reportDateDisplay = document.getElementById('report-date-display');
        const prevPeriodDisplay = document.getElementById('prev-period-display');
        const currPeriodDisplay = document.getElementById('curr-period-display');

        /**
         * @param {string} msg
         * @param {string} colorClass
         */
        function setSaveStatus(msg, colorClass = 'text-gray-500') {
            saveStatus.textContent = msg;
            saveStatus.className = `text-sm font-medium transition-opacity duration-300 ${colorClass}`;
            setTimeout(() => {
                saveStatus.textContent = "ëŒ€ê¸° ì¤‘...";
                saveStatus.className = 'text-sm font-medium transition-opacity duration-300 text-gray-500';
            }, 3000);
        }

        // ë‚ ì§œ ê³„ì‚° í•¨ìˆ˜
        function getReportDates() {
            const today = new Date();
            const year = today.getFullYear();
            const month = (today.getMonth() + 1).toString().padStart(2, '0');
            const day = today.getDate().toString().padStart(2, '0');
            const reportDateFormatted = `${year}.${month}.${day}`;
            
            // ì„ì‹œë¡œ í•˜ë“œì½”ë”©ëœ ê¸°ê°„ (ì‹¤ì œ ì•±ì—ì„œëŠ” ìœ ë™ì ìœ¼ë¡œ ê³„ì‚°í•´ì•¼ í•¨)
            const prevPeriod = "09/22 ~ 09/26";
            const currPeriod = "09/29 ~ 10/02";
            
            return { reportDateFormatted, prevPeriod, currPeriod };
        }

        if (firebaseConfig) {
            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
            } catch (e) {
                console.error("Firebase Initialization Error:", e);
                setSaveStatus("Firebase ì—°ê²° ì‹¤íŒ¨", 'text-red-600');
            }
        }

        // --- 2. ì¸ì¦ ë° ì‚¬ìš©ì ID ì„¤ì • ---
        async function authenticate() {
            try {
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }
            } catch (error) {
                console.error("Authentication failed:", error);
                setSaveStatus("ì¸ì¦ ì‹¤íŒ¨", 'text-red-600');
            }
        }

        onAuthStateChanged(auth, (user) => {
            if (user) {
                userId = user.uid;
                userIdDisplay.textContent = userId;
                isAuthReady = true;
                if (db) {
                    startRealtimeListener();
                }
            } else {
                // ìµëª… ë¡œê·¸ì¸ ì‹œì—ë„ uidê°€ ë¶€ì—¬ë˜ë¯€ë¡œ, ì´ ë¸”ë¡ì€ ê±°ì˜ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ
                userId = crypto.randomUUID();
                userIdDisplay.textContent = userId + " (ìµëª…)";
                isAuthReady = true;
            }
        });

        // Firebase ì„¤ì •ì´ ìˆì„ ë•Œë§Œ ì¸ì¦ ì‹œë„
        if (firebaseConfig) {
            authenticate();
        }

        // --- 3. Firestore ì‹¤ì‹œê°„ ë¦¬ìŠ¤ë„ˆ ---
        function startRealtimeListener() {
            if (!isAuthReady || !db) return;
            
            // ê³µìš© ë°ì´í„° ê²½ë¡œ: /artifacts/{appId}/public/data/weeklyReports/currentReport
            const docRef = doc(db, 'artifacts', appId, 'public', 'data', REPORT_COLLECTION, REPORT_DOC_ID);
            
            onSnapshot(docRef, (docSnap) => {
                if (docSnap.exists()) {
                    reportData = docSnap.data();
                } else {
                    reportData = {};
                    console.log("No such document! Initializing...");
                }
                renderReport(reportData);
                setSaveStatus("ë°ì´í„° ë¡œë“œ ì™„ë£Œ", 'text-green-600');
            }, (error) => {
                console.error("Firestore listen failed:", error);
                setSaveStatus("ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜", 'text-red-600');
            });
        }

        // --- 4. ë°ì´í„° ë Œë”ë§ ë° UI ì—…ë°ì´íŠ¸ ---
        /**
         * @param {object} data
         */
        function renderReport(data) {
            const { reportDateFormatted, prevPeriod, currPeriod } = getReportDates();
            reportDateDisplay.textContent = `ë³´ê³ ì¼ì: ${reportDateFormatted}`;
            prevPeriodDisplay.textContent = prevPeriod;
            currPeriodDisplay.textContent = currPeriod;

            // 1. ì¼ë°˜ í¸ì§‘ í•„ë“œ ë Œë”ë§
            document.querySelectorAll('.editable-content').forEach(el => {
                const field = el.dataset.field;
                if (field) {
                    const [category, subField, index] = field.split('.');
                    let content = data;
                    if (category && content[category]) content = content[category];
                    if (subField && content[subField]) content = content[subField];
                    
                    if (content !== null && content !== undefined) {
                        el.textContent = content.toString();
                    } else if (!el.textContent.trim()) {
                         // ë°ì´í„°ê°€ ì—†ì„ ë•Œë§Œ placeholder ìœ ì§€
                    }
                }
            });

            // 2. ë¦¬ìŠ¤íŠ¸ í•­ëª© ë Œë”ë§
            renderList('weeklyTasksPrev', data.weeklyTasksPrev?.items || []);
            renderList('weeklyPlanCurr', data.weeklyPlanCurr?.items || []);

            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë‹¤ì‹œ ì—°ê²° (ë Œë”ë§ í›„)
            attachEditableEventListeners();
        }

        /**
         * @param {string} containerId
         * @param {Array<string>} items
         */
        function renderList(containerId, items) {
            const container = document.getElementById(containerId);
            if (!container) return;

            container.innerHTML = '';
            
            items.forEach((item, index) => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'flex items-start group hover:bg-gray-50 p-1 rounded';
                itemDiv.innerHTML = `
                    <span class="mr-2 text-gray-500">â€¢</span>
                    <div class="editable-content flex-grow" contenteditable="true" data-field="${containerId}.items.${index}">${item}</div>
                    <button class="delete-item-button ml-2 text-red-500 hover:text-red-700 opacity-0 group-hover:opacity-100 transition duration-150 print-hidden" 
                            data-category="${containerId}" 
                            data-subfield="items" 
                            data-index="${index}">
                        &times;
                    </button>
                `;
                container.appendChild(itemDiv);
            });
        }


        // --- 5. ì´ë²¤íŠ¸ ì²˜ë¦¬ ë° ë°ì´í„° ì €ì¥ ë¡œì§ ---
        function attachEditableEventListeners() {
            document.querySelectorAll('.editable-content').forEach(el => {
                // ê¸°ì¡´ ë¦¬ìŠ¤ë„ˆ ì œê±° ë°©ì§€ (onSnapshotì—ì„œ ë§¤ë²ˆ í˜¸ì¶œë˜ë¯€ë¡œ)

                // blur ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ (ìë™ ì €ì¥)
                el.onblur = (event) => {
                    if (!isAuthReady || !db) return;
                    const field = event.target.dataset.field;
                    const newValue = event.target.textContent.trim();
                    if (field && newValue !== getDeepValue(reportData, field)) {
                        updateField(field, newValue);
                    }
                };
            });

            document.querySelectorAll('.add-item-button').forEach(button => {
                button.onclick = (event) => {
                    if (!isAuthReady || !db) return;
                    const category = event.target.dataset.category;
                    const subField = event.target.dataset.subfield;
                    addItemToField(category, subField, "ìƒˆ í•­ëª©ì„ ì…ë ¥í•˜ì„¸ìš” (í´ë¦­í•˜ì—¬ í¸ì§‘)");
                };
            });

            document.querySelectorAll('.delete-item-button').forEach(button => {
                button.onclick = (event) => {
                    if (!isAuthReady || !db) return;
                    const category = event.target.dataset.category;
                    const subField = event.target.dataset.subfield;
                    const index = parseInt(event.target.dataset.index, 10);
                    deleteItemFromField(category, subField, index);
                };
            });
        }

        /**
         * @param {object} obj
         * @param {string} path
         */
        function getDeepValue(obj, path) {
            try {
                const parts = path.split('.');
                let current = obj;
                for (const part of parts) {
                    // ë°°ì—´ ì¸ë±ìŠ¤ì¸ ê²½ìš° ì²˜ë¦¬
                    if (!isNaN(parseInt(part, 10)) && Array.isArray(current)) {
                        current = current[parseInt(part, 10)];
                    } else if (current && typeof current === 'object' && current[part] !== undefined) {
                        current = current[part];
                    } else {
                        return undefined;
                    }
                }
                return current;
            } catch (e) {
                return undefined;
            }
        }


        // --- 6. Firestore ë°ì´í„° ì¡°ì‘ í•¨ìˆ˜ ---
        const docRef = () => doc(db, 'artifacts', appId, 'public', 'data', REPORT_COLLECTION, REPORT_DOC_ID);

        /**
         * @param {string} path
         * @param {any} value
         */
        async function updateField(path, value) {
            if (!db || !userId) return;
            
            try {
                const updateObject = {};
                
                // Firestoreì—ì„œ ì (.) í‘œê¸°ë²•ìœ¼ë¡œ ì¤‘ì²© í•„ë“œ ì—…ë°ì´íŠ¸ë¥¼ ì§€ì›í•˜ì§€ë§Œ,
                // ë¦¬ìŠ¤íŠ¸ í•­ëª© ì—…ë°ì´íŠ¸ëŠ” ë”°ë¡œ ì²˜ë¦¬ (ë°°ì—´ ì¸ë±ìŠ¤ë¥¼ ì§ì ‘ ì—…ë°ì´íŠ¸ ë¶ˆê°€)
                const parts = path.split('.');
                const index = parseInt(parts[parts.length - 1], 10);
                
                if (!isNaN(index)) { // ë¦¬ìŠ¤íŠ¸ í•­ëª© ì—…ë°ì´íŠ¸
                     const listPath = parts.slice(0, parts.length - 1).join('.');
                     const list = getDeepValue(reportData, listPath) || [];
                     if (index >= 0 && index < list.length) {
                         list[index] = value;
                         updateObject[listPath] = list;
                         
                     } else {
                        console.warn("Invalid index for update:", path, index);
                        return;
                     }
                } else { // ì¼ë°˜ í•„ë“œ ì—…ë°ì´íŠ¸
                    updateObject[path] = value;
                }

                await setDoc(docRef(), updateObject, { merge: true });
                setSaveStatus("ìë™ ì €ì¥ ì™„ë£Œ", 'text-green-600');

            } catch (error) {
                console.error("Firestore update failed:", error);
                setSaveStatus("ì €ì¥ ì‹¤íŒ¨", 'text-red-600');
            }
        }

        /**
         * @param {string} category
         * @param {string} subField
         * @param {string} newItem
         */
        async function addItemToField(category, subField, newItem) {
            if (!db || !userId) return;
            const fullPath = `${category}.${subField}`;
            
            try {
                 // reportDataë¥¼ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ë°°ì—´ì„ ê°€ì ¸ì˜´
                 const currentList = getDeepValue(reportData, fullPath) || [];
                 const list = Array.isArray(currentList) ? currentList : [];

                 const newArray = [...list, newItem];
                 
                 const updateObject = {};
                 updateObject[fullPath] = newArray;
                 
                 await setDoc(docRef(), updateObject, { merge: true });
                 setSaveStatus("í•­ëª© ì¶”ê°€ ì™„ë£Œ", 'text-green-600');

            } catch (error) {
                console.error("Addition failed:", error);
                setSaveStatus("ì¶”ê°€ ì‹¤íŒ¨", 'text-red-600');
            }
        }

        /**
         * @param {string} category
         * @param {string} subField
         * @param {number} indexToDelete
         */
        async function deleteItemFromField(category, subField, indexToDelete) {
            if (!db || !userId) return;
            const fullPath = `${category}.${subField}`;
            
            try {
                 const currentList = getDeepValue(reportData, fullPath) || [];
                 const list = Array.isArray(currentList) ? currentList : [];

                 const newData = list.filter((_, index) => index !== indexToDelete);
                 
                 const updateObject = {};
                 updateObject[fullPath] = newData;

                 await setDoc(docRef(), updateObject, { merge: true });
                 setSaveStatus("í•­ëª© ì‚­ì œ ì™„ë£Œ", 'text-green-600');
            } catch (error) {
                console.error("Deletion failed:", error);
                setSaveStatus("ì‚­ì œ ì‹¤íŒ¨", 'text-red-600');
            }
        }

        /**
         * ê°•ì œ ì €ì¥ ë²„íŠ¼ ë¡œì§: í˜„ì¬ í¬ì»¤ìŠ¤ëœ ìš”ì†Œë¥¼ blur ì‹œì¼œ ìë™ ì €ì¥ ì´ë²¤íŠ¸ë¥¼ ê°•ì œë¡œ ë°œìƒì‹œí‚µë‹ˆë‹¤.
         */
        function manualSave() {
            const focusedElement = document.activeElement;
            if (focusedElement && focusedElement.classList.contains('editable-content')) {
                focusedElement.blur();
            } else {
                setSaveStatus("ì €ì¥ ì™„ë£Œ!", 'text-green-600');
            }
        }


        // --- 7. ì´ˆê¸° ì‹¤í–‰ ë° ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ ---\
        window.onload = () => {
            if (!firebaseConfig) {
                const { reportDateFormatted, prevPeriod, currPeriod } = getReportDates();
                reportDateDisplay.textContent = `ë³´ê³ ì¼ì: ${reportDateFormatted}`;
                prevPeriodDisplay.textContent = prevPeriod;
                currPeriodDisplay.textContent = currPeriod;
            }
            
            saveButton.addEventListener('click', manualSave);
            
            printButton.addEventListener('click', () => {
                window.print();
            });
        };

    </script>
</body>
</html>
